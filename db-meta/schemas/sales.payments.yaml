entity: payments
schema: sales
description: Payments for orders
attributes:
  id:
    type: uuid
    primary_key: true
    default: uuid_generate_v4()
  order_id:
    type: uuid
    nullable: false
    foreign_key:
      target: sales.orders.id
  amount:
    type: decimal
    precision: 12
    scale: 2
    nullable: false
  currency:
    type: string
    max_length: 8
    nullable: false
  method:
    type: enum
    enum_name: payment_method
    nullable: false
  status:
    type: enum
    enum_name: payment_status
    nullable: false
  processed_at:
    type: timestamp
    nullable: true
  created_at:
    type: timestamp
    default: now()
indexes:
  - columns: [order_id]
