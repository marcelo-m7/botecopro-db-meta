entity: orders
schema: sales
description: Customer orders
attributes:
  id:
    type: uuid
    primary_key: true
    default: uuid_generate_v4()
  business_id:
    type: uuid
    nullable: false
    foreign_key:
      target: business.businesses.id
  customer_id:
    type: uuid
    nullable: true
    foreign_key:
      target: auth.users.id
  status:
    type: enum
    enum_name: order_status
    default: draft
    nullable: false
  total_amount:
    type: decimal
    precision: 12
    scale: 2
    nullable: false
    default: 0.00
  currency:
    type: string
    max_length: 8
    nullable: false
  placed_at:
    type: timestamp
    default: now()
  created_at:
    type: timestamp
    default: now()
indexes:
  - columns: [business_id, status]
